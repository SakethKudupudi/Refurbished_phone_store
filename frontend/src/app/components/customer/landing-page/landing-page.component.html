<app-customer-header></app-customer-header>

<div class="landing-container">
  <!-- Primary: Device Selection -->
  <section class="category-section">
    <h2 class="section-title">Select Your Device Type</h2>
    <div class="category-grid">
      <div class="category-card animate-slide-up" (click)="navigateToCategory('APPLE')">
        <div class="category-image-wrapper">
          <img src="/application_images/apple_main.jpg" alt="Apple devices" class="category-image">
          <div class="category-gradient"></div>
        </div>
        <div class="category-content">
          <div class="category-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
            </svg>
          </div>
          <h3 class="category-name">iPhone</h3>
          <p class="category-description">iPhone models & iPad</p>
          <div class="category-arrow">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      </div>
      
      <div class="category-card animate-slide-up delay-1" (click)="navigateToCategory('ANDROID')">
        <div class="category-image-wrapper">
          <img src="/application_images/android_main.jpg" alt="Android devices" class="category-image">
          <div class="category-gradient"></div>
        </div>
        <div class="category-content">
          <div class="category-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85a.637.637 0 0 0-.83.22l-1.88 3.24a11.43 11.43 0 0 0-8.94 0L5.65 5.67a.643.643 0 0 0-.87-.2c-.28.18-.37.54-.22.83L6.4 9.48A10.81 10.81 0 0 0 1 18h22a10.81 10.81 0 0 0-5.4-8.52zM7 15.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm10 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z"/>
            </svg>
          </div>
          <h3 class="category-name">Android</h3>
          <p class="category-description">Samsung, Google, OnePlus & more</p>
          <div class="category-arrow">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- AI-Powered Search -->
  <section class="ai-search-section animate-fade-up delay-2">
    <div class="ai-search-card">
      <div class="ai-badge">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
        </svg>
        <span>AI-Powered</span>
      </div>
      <h2 class="ai-search-title">Smart Part Finder</h2>
      <p class="ai-search-subtitle">Describe what you're looking for, and our AI will find the perfect part</p>
      
      <div class="ai-search-input-wrapper">
        <svg class="ai-search-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"/>
        </svg>
        <input 
          type="text" 
          class="ai-search-input" 
          [(ngModel)]="aiSearchQuery"
          (keyup.enter)="handleAISearch()"
          placeholder='Try: "I need a screen replacement for my iPhone 13 Pro Max" or "Battery for Galaxy S23"'
        >
        <button class="ai-search-button" (click)="handleAISearch()" [disabled]="!aiSearchQuery.trim()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          Search
        </button>
      </div>

      <div class="ai-suggestions">
        <span class="suggestion-label">Popular searches:</span>
        <button class="suggestion-chip" (click)="setAIQuery('iPhone 15 Pro Max OLED screen')">
          iPhone 15 screen
        </button>
        <button class="suggestion-chip" (click)="setAIQuery('Samsung Galaxy S24 Ultra battery replacement')">
          Galaxy S24 battery
        </button>
        <button class="suggestion-chip" (click)="setAIQuery('Google Pixel 8 Pro camera module')">
          Pixel 8 camera
        </button>
      </div>
    </div>
  </section>

  <!-- Components on Sale -->
  <section class="sale-section">
    <div class="sale-header">
      <h2 class="section-title">Hot Deals This Week</h2>
      <p class="sale-subtitle">Limited time offers on premium mobile parts</p>
    </div>
    
    <div class="sale-grid">
      <div class="sale-card animate-fade-up" *ngFor="let item of saleItems; let i = index" [class.delay-1]="i === 1" [class.delay-2]="i === 2" [class.delay-3]="i === 3">
        <div class="sale-badge">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          {{ item.discount }}% OFF
        </div>
        
        <div class="sale-image-wrapper">
          <img [src]="item.image" [alt]="item.name" class="sale-image">
          <div class="sale-overlay">
            <button class="quick-view-btn" (click)="quickViewItem(item)">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
              Quick View
            </button>
          </div>
        </div>
        
        <div class="sale-content">
          <div class="sale-meta">
            <span class="sale-category">{{ item.category }}</span>
            <span class="sale-stock" [class.low-stock]="item.stock < 10">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              {{ item.stock }} left
            </span>
          </div>
          
          <h3 class="sale-name">{{ item.name }}</h3>
          <p class="sale-description">{{ item.description }}</p>
          
          <div class="sale-features">
            <span class="feature-tag" *ngFor="let feature of item.features">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              {{ feature }}
            </span>
          </div>
          
          <div class="sale-pricing">
            <div class="price-section">
              <span class="original-price">${{ item.originalPrice.toFixed(2) }}</span>
              <span class="sale-price">${{ item.salePrice.toFixed(2) }}</span>
            </div>
            <button class="add-to-cart-btn" (click)="addToCartFromSale(item)">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
              Add to Cart
            </button>
          </div>
          
          <div class="sale-timer">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
            Ends in {{ item.timeLeft }}
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="features-section">
    <h2 class="section-title">Why Choose Us</h2>
    <div class="features-grid">
      <div class="feature-card hover-lift">
        <div class="feature-icon-wrapper">
          <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </div>
        <h3 class="feature-title">Genuine Parts</h3>
        <p class="feature-description">100% authentic components verified by manufacturers</p>
      </div>
      <div class="feature-card hover-lift delay-1">
        <div class="feature-icon-wrapper">
          <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
          </svg>
        </div>
        <h3 class="feature-title">Fast Delivery</h3>
        <p class="feature-description">Express shipping with 2-3 day delivery</p>
      </div>
      <div class="feature-card hover-lift delay-2">
        <div class="feature-icon-wrapper">
          <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="1" x2="12" y2="23"></line>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
          </svg>
        </div>
        <h3 class="feature-title">Best Prices</h3>
        <p class="feature-description">Competitive pricing with price match guarantee</p>
      </div>
      <div class="feature-card hover-lift delay-3">
        <div class="feature-icon-wrapper">
          <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
        </div>
        <h3 class="feature-title">Secure Payment</h3>
        <p class="feature-description">Bank-level encryption for safe transactions</p>
      </div>
    </div>
  </section>

  <section class="popular-parts">
    <h2 class="section-title">Popular Parts</h2>
    <div class="parts-grid">
      <div class="part-card parallax-card">
        <div class="part-image-wrapper">
          <img src="https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=600&q=80" alt="Mobile screen" class="part-image">
        </div>
        <div class="part-content">
          <h3 class="part-name">OLED Displays</h3>
          <p class="part-price">From $299</p>
        </div>
      </div>
      <div class="part-card parallax-card delay-1">
        <div class="part-image-wrapper">
          <img src="https://images.unsplash.com/photo-1609091839311-d5365f9ff1c5?w=600&q=80" alt="Battery" class="part-image">
        </div>
        <div class="part-content">
          <h3 class="part-name">Batteries</h3>
          <p class="part-price">From $79</p>
        </div>
      </div>
      <div class="part-card parallax-card delay-2">
        <div class="part-image-wrapper">
          <img src="https://images.unsplash.com/photo-1606229365485-93a3b8ee0385?w=600&q=80" alt="Camera module" class="part-image">
        </div>
        <div class="part-content">
          <h3 class="part-name">Camera Modules</h3>
          <p class="part-price">From $149</p>
        </div>
      </div>
      <div class="part-card parallax-card delay-3">
        <div class="part-image-wrapper">
          <img src="https://images.unsplash.com/photo-1583863788434-e58a36330cf0?w=600&q=80" alt="Charging port" class="part-image">
        </div>
        <div class="part-content">
          <h3 class="part-name">Charging Ports</h3>
          <p class="part-price">From $39</p>
        </div>
      </div>
    </div>
  </section>
</div>
